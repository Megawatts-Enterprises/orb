#:import pref orb.misc.utils.pref
#:import prefs_col orb.misc.utils.prefs_col


<Node@Button>
    background_color: (0, 0, 0, 0)
    size_hint: None, None
    size: (root.width_pref+2, root.height_pref+2)
    background_normal: ''
    font_size: pref('display.node_alias_font_size')
    canvas.before:
        Color: 
            rgba: (0.3,0.3,0.9,1)
        RoundedRectangle:
            size: (root.width_pref+2, root.height_pref+2)
            pos: [self.pos[0]-1, self.pos[1]-1]
            radius: [(8, 50)[bool(root.round)]]
        Color: 
            group: 'b'
            rgba: prefs_col("display.node_background_color")
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [(8, 50)[bool(root.round)]]
            size: (root.width_pref, root.height_pref)
        PushMatrix
        Scale:
            origin: self.center
            xyz: .1, .1, 1
    canvas.after:
        PopMatrix
