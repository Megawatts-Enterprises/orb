#:import prefs_col orb.misc.utils.prefs_col
#:import pref orb.misc.utils.pref
#:import dp kivy.metrics.dp

<HUDEvaluation>:
    text: root.get_text()
    color: 1,1,1,0.1
    font_size: '40sp'
    size_hint: None, None
    size: self.texture_size
    halign: 'center'

<HUDBanner>:
    size_hint: None, None
    size: self.texture_size

<HUDFeeSummary>:
    id: hud_label
    text: root.hud
    size_hint: [None, None]
    markup: True
    size: [self.texture_size[0]+40, self.texture_size[1]+30]

<HUDSpentFeeSummary>:
    id: hud_label
    text: root.hud
    size_hint: [None, None]
    markup: True
    size: [self.texture_size[0]+40, self.texture_size[1]+30]

<HUDBalance>:
    id: hud_label
    text: root.hud
    size_hint: [None, None]
    markup: True
    size: [self.texture_size[0]+40, self.texture_size[1]+30]

<HUDSystem>:
    id: hud_label
    text: root.hud
    size_hint: [None, None]
    markup: True
    size: [self.texture_size[0]+40, self.texture_size[1]+30]

<HUDMemUsage>:
    id: hud_label
    text: root.hud
    size_hint: [None, None]
    markup: True
    size: [self.texture_size[0]+40, self.texture_size[1]+30]

<HUDMempool>:
    id: hud_label
    text: root.hud
    size_hint: [None, None]
    markup: True
    size: [self.texture_size[0]+40, self.texture_size[1]+30]

<HUDThreadManager>:
    size_hint: [None, None]
    size: [300, (int(len(self.children) / 6) + 1) * dp(30)]
    padding: dp(10)
    spacing: dp(10)
    canvas.before:
        Color:
            rgba: [ a*b for a,b in zip(prefs_col('display.channels_background_color'), [1,1,1,root.alpha*0.7])]
        Rectangle:
            size: self.size
            pos: self.pos
        Color:
            rgba: .6, .6, .8, root.alpha
        Line:
            points: [self.pos[0]+self.width, self.pos[1], self.pos[0]+self.width, self.pos[1] + self.height]
            width: 1
        Line:
            points: [self.pos[0], self.pos[1], self.pos[0], self.pos[1] + self.height]
            width: 1
        Line:
            points: [self.pos[0], self.pos[1], self.pos[0] + self.width, self.pos[1]]
            width: 1
        Line:
            points: [self.pos[0], self.pos[1] + self.height, self.pos[0] + self.width, self.pos[1] + self.height]
            width: 1


<HUDProtocol>:
    size_hint: [None, None]
    size: [dp(120), dp(30)]
    background_color: 0,0,0,0
    canvas.before:
        Color:
            rgba: prefs_col('display.channels_background_color')
        Rectangle:
            size: self.size
            pos: self.pos
        Color:
            rgba: .6, .6, .8, 1
        Line:
            points: [self.pos[0]+self.width, self.pos[1], self.pos[0]+self.width, self.pos[1] + self.height]
            width: 1
        Line:
            points: [self.pos[0], self.pos[1], self.pos[0], self.pos[1] + self.height]
            width: 1
        Line:
            points: [self.pos[0], self.pos[1], self.pos[0] + self.width, self.pos[1]]
            width: 1
        Line:
            points: [self.pos[0], self.pos[1] + self.height, self.pos[0] + self.width, self.pos[1] + self.height]
            width: 1

<HUDGlobalRatio>:
    size_hint: [None, None]
    size: [dp(150), dp(30)]
    padding: dp(10), dp(10)
    spacing: dp(10)
    canvas.before:
        Color:
            rgba: [ a*b for a,b in zip(prefs_col('display.channels_background_color'), [1,1,1,root.alpha*0.7])]
        Rectangle:
            size: self.size
            pos: self.pos
        Color:
            rgba: .6, .6, .8, root.alpha
        Line:
            points: [self.pos[0]+self.width, self.pos[1], self.pos[0]+self.width, self.pos[1] + self.height]
            width: 1
        Line:
            points: [self.pos[0], self.pos[1], self.pos[0], self.pos[1] + self.height]
            width: 1
        Line:
            points: [self.pos[0], self.pos[1], self.pos[0] + self.width, self.pos[1]]
            width: 1
        Line:
            points: [self.pos[0], self.pos[1] + self.height, self.pos[0] + self.width, self.pos[1] + self.height]
            width: 1

<HUDBTCPrice>:
    size_hint: [None, None]
    size: [dp(200), dp(100)]
    canvas.before:
        Color:
            rgba: [ a*b for a,b in zip(prefs_col('display.channels_background_color'), [1,1,1,root.alpha*0.7])]
        Rectangle:
            size: self.size
            pos: self.pos
        Color:
            rgba: .6, .6, .8, root.alpha
        Line:
            points: [self.pos[0]+self.width, self.pos[1], self.pos[0]+self.width, self.pos[1] + self.height]
            width: 1
        Line:
            points: [self.pos[0], self.pos[1], self.pos[0], self.pos[1] + self.height]
            width: 1
        Line:
            points: [self.pos[0], self.pos[1], self.pos[0] + self.width, self.pos[1]]
            width: 1
        Line:
            points: [self.pos[0], self.pos[1] + self.height, self.pos[0] + self.width, self.pos[1] + self.height]
            width: 1
        Color:
            rgba: 1, 1, 1, 1
        PushMatrix
        Translate:
            xyz: self.pos[0], self.pos[1], 0
        Line:
            points: root.line_points
    canvas.after:
        PopMatrix
    Label:
        id: rate
        pos: [0, root.height - self.texture_size[1]-30]
        font_size: '13sp'
        size_hint: [None, None]
        markup: True
        size: [self.texture_size[0]+40, self.texture_size[1]+30]

<ThreadWidget>:
    Button:
        id: name
        font_size: '13sp'
        # size_hint: None, None
        size: dp(10), dp(10)
        text: root.thread.name[0]
        background_color: 0,0,0,0
        pos: root.pos
        on_release: root.thread.stop()

<HUDUIMode>:
    size_hint: [None, None]
    size: [dp(120), dp(30)]
    background_color: 0,0,0,0
    canvas.before:
        Color:
            rgba: prefs_col('display.channels_background_color')
        Rectangle:
            size: self.size
            pos: self.pos
        Color:
            rgba: .6, .6, .8, 1
        Line:
            points: [self.pos[0]+self.width, self.pos[1], self.pos[0]+self.width, self.pos[1] + self.height]
            width: 1
        Line:
            points: [self.pos[0], self.pos[1], self.pos[0], self.pos[1] + self.height]
            width: 1
        Line:
            points: [self.pos[0], self.pos[1], self.pos[0] + self.width, self.pos[1]]
            width: 1
        Line:
            points: [self.pos[0], self.pos[1] + self.height, self.pos[0] + self.width, self.pos[1] + self.height]
            width: 1