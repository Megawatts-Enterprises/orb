########################################################################################
# INGEST INVOICES
########################################################################################

#:import Window kivy.core.window.Window
#:import dp kivy.metrics.dp

<IngestInvoices>:
    size_hint: None, None
    size: min(Window.size[0], dp(1000)), min(Window.size[1], dp(800))
    background_color: .6, .6, .8, .9
    overlay_color: 0, 0, 0, 0
    count: count
    title: 'Ingest Invoices'
    BoxLayout:
        padding: dp(2)
        spacing: dp(2)
        orientation: 'vertical'
        GridLayout:
            cols: 1
            padding: dp(2)
            spacing: dp(2)
            TextInput:
                id: invoices
                multiline: True
                size_hint_y: None
                height: dp(150)
            Label:
                id: count
                size_hint_y: None
                height: dp(50)
                text: ''
            ScrollView:
                size_hint: 0.5, 1
                pos_hint: {'center_x': .5, 'center_y': .5}
                do_scroll_x: False
                GridLayout:
                    id: scroll_view
                    cols: 1
                    padding: dp(2)
                    spacing: dp(2)
                    size_hint_y: None
                    height: self.minimum_height
            BoxLayout:
                orientation: 'horizontal'
                size_hint_y: None
                padding: dp(2)
                spacing: dp(2)
                height: dp(80)
                MDRaisedButton:
                    id: ingest_button
                    text: 'ingest'
                    size_hint_y: None
                    height: dp(80)
                    width: dp(200)
                    on_release: root.do_ingest(invoices.text)
                MDRaisedButton:
                    id: ingest_button
                    text: 'close'
                    size_hint_y: None
                    height: dp(80)
                    width: dp(200)
                    on_release: root.dismiss()
